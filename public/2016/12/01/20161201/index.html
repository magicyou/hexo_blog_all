<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>无限分页设计与实现 | MagicYou</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.3.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.0/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">无限分页设计与实现</h1><a id="logo" href="/.">MagicYou</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/tags/"><i class="fa fa-tag"> 标签</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">无限分页设计与实现</h1><div class="post-meta">Dec 1, 2016<span> | </span><span class="category"><a href="/categories/前端/">前端</a></span></div><div class="post-content"><p>最近接手一个微信端的的项目，客户要求在文章列表页面不要用分页。然后项目经理就交代下来，用瀑布流吧（他对前端并不了解），开发组的顿姐姐就说是不是无限分页呀…  然后我就开始自行脑补瀑布流，无限分页，原理不还是一样嘛。自行研究了一下，就开始了造轮子之路…<br>当然，欢迎来原文看看，<a href="http://www.magicyou.cn/index.php/archives/20/" target="_blank" rel="noopener">原文</a></p>
<a id="more"></a>
<h2 id="1-基本思路"><a href="#1-基本思路" class="headerlink" title="1.基本思路"></a>1.基本思路</h2><h3 id="1-1-概述"><a href="#1-1-概述" class="headerlink" title="1.1 概述"></a>1.1 概述</h3><p>无限分页，就是说页面在不显示页码，不需要用户去点击页码，使用技术手段实现页面滚动到某一时刻进行加载下一页内容，并且陈列到页面上。这不就是赤裸裸的瀑布流一样的原理么。</p>
<h3 id="1-2-脑补一下"><a href="#1-2-脑补一下" class="headerlink" title="1.2 脑补一下"></a>1.2 脑补一下</h3><p>先来补充一个sql语句知识，当然这里只做MySQL的实例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from imgs limit 0,8;</span><br></pre></td></tr></table></figure></p>
<p>查询语句的意思：查询imgs表的所有内容，显示第一页的8条内容从第一条数据开始算起<br>那么第二页怎么写呢：(直接写出前四页的sql语句，一起来找规律)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">第一页     select * from imgs limit 0,8;</span><br><span class="line">结果：     </span><br><span class="line">+----+------------+</span><br><span class="line">| id | src        |</span><br><span class="line">+----+------------+</span><br><span class="line">|  1 | img/01.jpg |</span><br><span class="line">|  2 | img/02.jpg |</span><br><span class="line">|  3 | img/03.jpg |</span><br><span class="line">|  4 | img/01.jpg |</span><br><span class="line">|  5 | img/01.jpg |</span><br><span class="line">|  6 | img/01.jpg |</span><br><span class="line">|  7 | img/01.jpg |</span><br><span class="line">|  8 | img/01.jpg |</span><br><span class="line">+----+------------+</span><br><span class="line">第二页     select * from imgs limit 8,8;</span><br><span class="line">结果：</span><br><span class="line">+----+------------+</span><br><span class="line">| id | src        |</span><br><span class="line">+----+------------+</span><br><span class="line">|  9 | img/01.jpg |</span><br><span class="line">| 10 | img/01.jpg |</span><br><span class="line">| 11 | img/01.jpg |</span><br><span class="line">| 12 | img/01.jpg |</span><br><span class="line">| 13 | img/01.jpg |</span><br><span class="line">| 14 | img/02.jpg |</span><br><span class="line">| 15 | img/02.jpg |</span><br><span class="line">| 16 | img/02.jpg |</span><br><span class="line">+----+------------+</span><br><span class="line">第三页     select * from imgs limit 16,8;</span><br><span class="line">结果：</span><br><span class="line">+----+------------+</span><br><span class="line">| id | src        |</span><br><span class="line">+----+------------+</span><br><span class="line">| 17 | img/02.jpg |</span><br><span class="line">| 18 | img/02.jpg |</span><br><span class="line">| 19 | img/02.jpg |</span><br><span class="line">| 20 | img/02.jpg |</span><br><span class="line">| 21 | img/02.jpg |</span><br><span class="line">| 22 | img/02.jpg |</span><br><span class="line">| 23 | img/02.jpg |</span><br><span class="line">| 24 | img/03.jpg |</span><br><span class="line">+----+------------+</span><br><span class="line">第四页     select * from imgs limit 24,8;</span><br><span class="line">结果：</span><br><span class="line">+----+------------+</span><br><span class="line">| id | src        |</span><br><span class="line">+----+------------+</span><br><span class="line">| 25 | img/03.jpg |</span><br><span class="line">| 26 | img/03.jpg |</span><br><span class="line">| 27 | img/03.jpg |</span><br><span class="line">| 28 | img/03.jpg |</span><br><span class="line">| 29 | img/03.jpg |</span><br><span class="line">| 30 | img/03.jpg |</span><br><span class="line">| 31 | img/02.jpg |</span><br><span class="line">| 32 | img/02.jpg |</span><br><span class="line">+----+------------+</span><br></pre></td></tr></table></figure></p>
<p>好了，规律想必已经找到了。不过还是要大致说一下这个sql语句意思。<br>‘limit’后面有两个数字，这就输关键所在，第一个数字是开始的索引值，0代表第一个开始，8代表显示条数，根据第二个数字有规律的改变第一个数字，分页效果就出来了。</p>
<h3 id="1-3-js设计原理"><a href="#1-3-js设计原理" class="headerlink" title="1.3 js设计原理"></a>1.3 js设计原理</h3><p>页面总是有个宽度高度的，页面加载完毕，上下滚动页面，有个触发事件，每次到一个合适的条件，就触发事件进行ajax的请求，并将返回的数据加进页面内，就完成一次加载（或者说完成一次加载下一页数据的请求），在代码行内的注释进行更详细的说明</p>
<h2 id="2-代码"><a href="#2-代码" class="headerlink" title="2.代码"></a>2.代码</h2><h3 id="2-1-html代码"><a href="#2-1-html代码" class="headerlink" title="2.1 html代码"></a>2.1 html代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;wrap&quot;&gt;</span><br><span class="line">&lt;!--    这里放加载的数据--&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;loader&quot;&gt;</span><br><span class="line">&lt;!--    这里放加载时候的加载动画，还有加载完毕后提示信息  --&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2-2-css代码"><a href="#2-2-css代码" class="headerlink" title="2.2 css代码"></a>2.2 css代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line">	 * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .container &#123;</span><br><span class="line">            width: 640px;</span><br><span class="line">            margin: 0 auto;</span><br><span class="line">            background: #FFF;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .container a &#123;</span><br><span class="line">            display: inline-block;</span><br><span class="line">            margin: 10px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .container a img &#123;</span><br><span class="line">            width: 100%;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .loader &#123;</span><br><span class="line">            width: 100%;</span><br><span class="line">            text-align: center;</span><br><span class="line">            height: 50px;</span><br><span class="line">            line-height: 50px;</span><br><span class="line">        &#125; </span><br><span class="line">/* 预设加载动画，css3做的动画效果 */</span><br><span class="line">        .dot &#123;</span><br><span class="line">            width: 18px;</span><br><span class="line">            height: 18px;</span><br><span class="line">            background: #3ac;</span><br><span class="line">            border-radius: 100%;</span><br><span class="line">            display: inline-block;</span><br><span class="line">            animation: slide 1s infinite;</span><br><span class="line">            -webkit-animation: slide 1s infinite;</span><br><span class="line">            margin-left:5px;</span><br><span class="line">            margin-right:5px;</span><br><span class="line">        &#125; </span><br><span class="line">        .dot:nth-child(1) &#123;</span><br><span class="line">            animation-delay: 0.1s;</span><br><span class="line">            -webkit-animation-delay: 0.1s;</span><br><span class="line">            background: #ccc;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .dot:nth-child(2) &#123;</span><br><span class="line">            animation-delay: 0.2s;</span><br><span class="line">            -webkit-animation-delay: 0.2s;</span><br><span class="line">            background: #ccc;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .dot:nth-child(3) &#123;</span><br><span class="line">            animation-delay: 0.3s;</span><br><span class="line">            -webkit-animation-delay: 0.3s;</span><br><span class="line">            background: #ccc;</span><br><span class="line">        &#125;</span><br><span class="line">        .dot:nth-child(4) &#123;</span><br><span class="line">            animation-delay: 0.4s;</span><br><span class="line">            -webkit-animation-delay: 0.4s;</span><br><span class="line">            background: #ccc;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .dot:nth-child(5) &#123;</span><br><span class="line">            animation-delay: 0.5s;</span><br><span class="line">            -webkit-animation-delay: 0.5s;</span><br><span class="line">            background: #ccc;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        @-webkit-keyframes slide &#123;</span><br><span class="line">            0% &#123;</span><br><span class="line">                transform: scale(1);</span><br><span class="line">                -webkit-transform: scale(1);</span><br><span class="line">            &#125;</span><br><span class="line">            50% &#123;</span><br><span class="line">                opacity: 0.3;</span><br><span class="line">                transform: scale(1.2);</span><br><span class="line">                -webkit-transform: scale(1.2);</span><br><span class="line">            &#125;</span><br><span class="line">            100% &#123;</span><br><span class="line">                transform: scale(1);</span><br><span class="line">                -webkit-transform: scale(1);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        @keyframes slide &#123;</span><br><span class="line">            0% &#123;</span><br><span class="line">                transform: scale(1);</span><br><span class="line">                -webkit-transform: scale(1);</span><br><span class="line">            &#125;</span><br><span class="line">            50% &#123;</span><br><span class="line">                opacity: 0.3;</span><br><span class="line">                transform: scale(1.2);</span><br><span class="line">                -webkit-transform: scale(1.2);</span><br><span class="line">            &#125;</span><br><span class="line">            100% &#123;</span><br><span class="line">                transform: scale(1);</span><br><span class="line">                -webkit-transform: scale(1);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p>这里放了一个css3做的加载动画，也是在其他博客上看到的，挺好玩，拿来用用</p>
<h3 id="2-3-js代码"><a href="#2-3-js代码" class="headerlink" title="2.3 js代码"></a>2.3 js代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">$(function () &#123;</span><br><span class="line">            //预设全局变量page，就是用来当做&apos;limit&apos;后面的第一个数字</span><br><span class="line">            var page = 0;</span><br><span class="line">            //给预设一个全局变量，判断一次请求是否完毕，完毕后才能进行下一次请求，防止多次重复进行请求</span><br><span class="line">            var status = true;</span><br><span class="line">            //给预设一个全局变量，判断数据是否已经完全加载完毕，并且已经没有可以再次加载的数据，防止已经没有可加载后还会进行请求，</span><br><span class="line">            var dataStatu = true;</span><br><span class="line">            $(window).scroll(function () &#123;</span><br><span class="line">                //滚动的高度</span><br><span class="line">                var scrollTop = $(window).scrollTop();</span><br><span class="line">                //浏览器可视区域的高度</span><br><span class="line">                var screenHei = $(window).height();</span><br><span class="line">                //文档的总高度</span><br><span class="line">                var bodyHei = $(document).height();</span><br><span class="line">                //计算一个差值,通过这个差值，判断是否进行ajax请求</span><br><span class="line">                var c = bodyHei - screenHei - scrollTop;</span><br><span class="line">                if (c &lt; 100) &#123;</span><br><span class="line">                    //判断是否可以加载数据</span><br><span class="line">                    if (dataStatu == true &amp;&amp; status == true) &#123;</span><br><span class="line">                        //可以加载数据，把status状态修改为false</span><br><span class="line">                        status = false;</span><br><span class="line">                        //重置容器‘.loader’为空白</span><br><span class="line">                        $(&apos;.loader&apos;).html(&apos;&apos;);</span><br><span class="line">                        //往容器‘.loader’加进加载动画</span><br><span class="line">                        var str = &apos;&lt;div class=&quot;dot&quot;&gt;&lt;/div&gt;&lt;div class=&quot;dot&quot;&gt;&lt;/div&gt;&lt;div class=&quot;dot&quot;&gt;&lt;/div&gt;&lt;div class=&quot;dot&quot;&gt;&lt;/div&gt;&lt;div class=&quot;dot&quot;&gt;&lt;/div&gt;&apos;;</span><br><span class="line">                        $(&apos;.loader&apos;).html(str);</span><br><span class="line">                        //调用加载数据的函数</span><br><span class="line">                        getData();</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;);</span><br><span class="line">            //页面加载时先进行一次数据请求</span><br><span class="line">            getData();</span><br><span class="line"></span><br><span class="line">            function getData() &#123;</span><br><span class="line">                //引用jq的ajax方法，不解释，好用就行</span><br><span class="line">                $.ajax(&#123;</span><br><span class="line">                        //看清楚url带的get参数</span><br><span class="line">                        url: &apos;./control/getData.php?page=&apos; + page + &apos;&amp;pageNum=8&apos;,</span><br><span class="line">                        type: &apos;get&apos;,</span><br><span class="line">                        dataType: &apos;text&apos;,</span><br><span class="line">                        success: function (data) &#123;</span><br><span class="line">                            //处理返回的json数据</span><br><span class="line">                            var data = JSON.parse(data);</span><br><span class="line">                            //请求已经发送，并且请求的数据已经返回，重置状态码status为false，准备下一次的请求</span><br><span class="line">                            status = true;</span><br><span class="line">                            //sql语句原理说过‘limit’后第一个数字有规律变化，就在这里</span><br><span class="line">                            page += 8;</span><br><span class="line">                            //让数据有个缓冲的过程去过渡一下，给两秒时间，两秒后把请求的数据放进网页里</span><br><span class="line">                            setTimeout(function()&#123;</span><br><span class="line">                                    //重置容器‘.loader’为空白</span><br><span class="line">                                    $(&apos;.loader&apos;).html(&apos; &apos;);</span><br><span class="line">                                    //判断返回的数据是否为空，由于是处理json后的数据，当然是数组，判断 数组长度是否为0即可</span><br><span class="line">                                    if (data.length == 0) &#123;</span><br><span class="line">                                        //当所有数据已经加载完毕，没有可以在加载的数据，将状态码dataStatu设置为false，不再进行数据请求</span><br><span class="line">                                        dataStatu = false;</span><br><span class="line">                                        console.log(&apos;没有数据加载了&apos;);</span><br><span class="line">                                        //容器‘.loader’填写数据已经加载完毕的提示</span><br><span class="line">                                        var str = &apos;没有可加载数据了&apos;;</span><br><span class="line">                                        $(&apos;.loader&apos;).html(str);</span><br><span class="line">                                    &#125; else &#123;</span><br><span class="line">                                        console.log(&apos;还有数据加载呢.......&apos;);</span><br><span class="line">                                    &#125;</span><br><span class="line">                                    //将请求的数据遍历出来，拼接进字符串</span><br><span class="line">                                    var str = &apos;&apos;;</span><br><span class="line">                                    for (var i = 0; i &lt; data.length; i++) &#123;</span><br><span class="line">                                        str += &apos;&lt;a href=&quot;&quot;&gt;&apos;;</span><br><span class="line">                                        str += &apos;&lt;img src=&quot;&apos; + data[i].src + &apos;&quot; alt=&quot;&quot;&gt;&apos;;</span><br><span class="line">                                        str += &apos;&lt;/a&gt;&apos;;</span><br><span class="line">                                    &#125;</span><br><span class="line">                                    //将凭借出来的字符串追加进容器内</span><br><span class="line">                                    $(&apos;.wrap&apos;).append(str);</span><br><span class="line">                            &#125;,2000)</span><br><span class="line">                                    </span><br><span class="line">       </span><br><span class="line">                                &#125;,</span><br><span class="line">                                error: function (statuCode) &#123;</span><br><span class="line">                                    console.log(statuCode);</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                &#125;)</span><br></pre></td></tr></table></figure>
<h2 id="3、补充说明"><a href="#3、补充说明" class="headerlink" title="3、补充说明"></a>3、补充说明</h2><p>对于page，我这里是get传递0,8,16,24…实际环境下，需要问一下后台人员有木有对page在后台处理，他们可能需要1,2,3,4,5…..就好了；<br>还有ajax的url参数‘pageNum=8’，后台直接设置的话，前端就不需要传送；<br>总而言之，实际操作时，还得和后台人员沟通，原理就是这么个原理，有不恰当的地方，希望过路的大神们不吝赐教</p>
<h2 id="4、在线演示"><a href="#4、在线演示" class="headerlink" title="4、在线演示"></a>4、在线演示</h2><p><a href="http://www.magicyou.cn/resource/20161201/" target="_blank" rel="noopener">在线演示</a></p>
</div><div class="tags"><a href="/tags/JavaScript/">JavaScript</a><a href="/tags/CSS3/">CSS3</a></div><div class="post-nav"><a class="pre" href="/2016/12/09/20161209/">可拖拽的弹出框</a><a class="next" href="/2016/11/20/20160910/">lamp/lnmp搭建+typecho搭建</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://blog.magicyou.cn"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MacOS/">MacOS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/vue/" style="font-size: 15px;">vue</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/CSS3/" style="font-size: 15px;">CSS3</a> <a href="/tags/Vue/" style="font-size: 15px;">Vue</a> <a href="/tags/PHP/" style="font-size: 15px;">PHP</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/微信小程序/" style="font-size: 15px;">微信小程序</a> <a href="/tags/Centos/" style="font-size: 15px;">Centos</a> <a href="/tags/other/" style="font-size: 15px;">other</a> <a href="/tags/jQuery/" style="font-size: 15px;">jQuery</a> <a href="/tags/scrapy/" style="font-size: 15px;">scrapy</a> <a href="/tags/HTML5/" style="font-size: 15px;">HTML5</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/Apache/" style="font-size: 15px;">Apache</a> <a href="/tags/MacOS/" style="font-size: 15px;">MacOS</a> <a href="/tags/CSS/" style="font-size: 15px;">CSS</a> <a href="/tags/HTML/" style="font-size: 15px;">HTML</a> <a href="/tags/uni-app/" style="font-size: 15px;">uni-app</a> <a href="/tags/微信小程序/" style="font-size: 15px;">微信小程序'</a> <a href="/tags/canvas/" style="font-size: 15px;">canvas</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/09/03/环形温度调节实现/">环形温度调节实现</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/03/ vue-组件封装中之slot插槽使用/">vue---组件封装中之slot插槽使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/03/PHP获取微信小程序码/">微信小程序---PHP获取微信小程序码</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/03/微信小程序合成海报/">微信小程序---合成海报分享到朋友圈</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/24/单点登录配置 记录/">配置webgate拦截跳转到ldap登录页实现单点登录</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/23/一次环境升级记录/">一次lnmp环境升级记录</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/03/yum源的代理设置及修改/">yum源的代理设置及修改</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/23/脚本微博登录自动发微博并返回cookie/">脚本微博登录自动发微博并返回cookie</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/10/scrapy爬虫之初次尝试/">scrapy爬虫之初次尝试</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/26/安装python的crypto模块/">安装python的crypto模块</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://hexo.io" title="Hexo" target="_blank">Hexo</a><ul></ul><a href="http://moxfive.xyz/" title="MOxFIVE" target="_blank">MOxFIVE</a><ul></ul><a href="https://coolshell.cn/" title="左耳朵耗子的酷壳" target="_blank">左耳朵耗子的酷壳</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">MagicYou.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.3.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.3.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.3.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.3.0"></script></div></body></html>