<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>pyinstaller编译python脚本为单文件可执行文件遇到的问题 | MagicYou</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.3.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.0/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">pyinstaller编译python脚本为单文件可执行文件遇到的问题</h1><a id="logo" href="/.">MagicYou</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/tags/"><i class="fa fa-tag"> 标签</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">pyinstaller编译python脚本为单文件可执行文件遇到的问题</h1><div class="post-meta">Jul 6, 2018<span> | </span><span class="category"><a href="/categories/Python/">Python</a></span></div><div class="post-content"><p>编译python脚本为单文件可执行文件(python3)<br><a id="more"></a></p>
<p>环境概况<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">系统：CentOS Linux release 7.5</span><br><span class="line">python版本：3.6.1</span><br><span class="line">注：已安装pip</span><br></pre></td></tr></table></figure></p>
<p>安装pyinstaller<br>​<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip install pyinstaller</span><br><span class="line">pyinstaller --onefile testCsv.py  #编译好的文件在dist目录下</span><br><span class="line">​</span><br></pre></td></tr></table></figure></p>
<p>激动的开始做成可执行单文件，这是什么鬼…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">[root@magicYou signal]# pyinstaller --onefile testCsv.py</span><br><span class="line">204 INFO: PyInstaller: 3.3.1</span><br><span class="line">205 INFO: Python: 3.6.1</span><br><span class="line">206 INFO: Platform: Linux-3.10.0-693.17.1.el7.x86_64-x86_64-with-centos-7.5.1804-Core</span><br><span class="line">206 INFO: wrote /python/signal/testCsv.spec</span><br><span class="line">209 INFO: UPX is not available.</span><br><span class="line">210 INFO: Extending PYTHONPATH with paths</span><br><span class="line">[&apos;/python/signal&apos;, &apos;/python/signal&apos;]</span><br><span class="line">210 INFO: checking Analysis</span><br><span class="line">210 INFO: Building Analysis because out00-Analysis.toc is non existent</span><br><span class="line">210 INFO: Initializing module dependency graph...</span><br><span class="line">211 INFO: Initializing module graph hooks...</span><br><span class="line">212 INFO: Analyzing base_library.zip ...</span><br><span class="line">3827 INFO: running Analysis out00-Analysis.toc</span><br><span class="line">3840 INFO: Caching module hooks...</span><br><span class="line">3844 INFO: Analyzing /python/signal/testCsv.py</span><br><span class="line">3867 INFO: Loading module hooks...</span><br><span class="line">3868 INFO: Loading module hook &quot;hook-encodings.py&quot;...</span><br><span class="line">3937 INFO: Loading module hook &quot;hook-pydoc.py&quot;...</span><br><span class="line">3938 INFO: Loading module hook &quot;hook-xml.py&quot;...</span><br><span class="line">4206 INFO: Looking for ctypes DLLs</span><br><span class="line">4206 INFO: Analyzing run-time hooks ...</span><br><span class="line">4213 INFO: Looking for dynamic libraries</span><br><span class="line">4753 INFO: Looking for eggs</span><br><span class="line">4753 INFO: Python library not in binary dependencies. Doing additional searching...</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;/usr/local/python3/bin/pyinstaller&quot;, line 11, in &lt;module&gt;</span><br><span class="line">    sys.exit(run())</span><br><span class="line">  File &quot;/usr/local/python3/lib/python3.6/site-packages/PyInstaller/__main__.py&quot;, line 94, in run</span><br><span class="line">    run_build(pyi_config, spec_file, **vars(args))</span><br><span class="line">  File &quot;/usr/local/python3/lib/python3.6/site-packages/PyInstaller/__main__.py&quot;, line 46, in run_build</span><br><span class="line">    PyInstaller.building.build_main.main(pyi_config, spec_file, **kwargs)</span><br><span class="line">  File &quot;/usr/local/python3/lib/python3.6/site-packages/PyInstaller/building/build_main.py&quot;, line 791, in main</span><br><span class="line">    build(specfile, kw.get(&apos;distpath&apos;), kw.get(&apos;workpath&apos;), kw.get(&apos;clean_build&apos;))</span><br><span class="line">  File &quot;/usr/local/python3/lib/python3.6/site-packages/PyInstaller/building/build_main.py&quot;, line 737, in build</span><br><span class="line">    exec(text, spec_namespace)</span><br><span class="line">  File &quot;&lt;string&gt;&quot;, line 16, in &lt;module&gt;</span><br><span class="line">  File &quot;/usr/local/python3/lib/python3.6/site-packages/PyInstaller/building/build_main.py&quot;, line 213, in __init__</span><br><span class="line">    self.__postinit__()</span><br><span class="line">  File &quot;/usr/local/python3/lib/python3.6/site-packages/PyInstaller/building/datastruct.py&quot;, line 161, in __postinit__</span><br><span class="line">    self.assemble()</span><br><span class="line">  File &quot;/usr/local/python3/lib/python3.6/site-packages/PyInstaller/building/build_main.py&quot;, line 545, in assemble</span><br><span class="line">    self._check_python_library(self.binaries)</span><br><span class="line">  File &quot;/usr/local/python3/lib/python3.6/site-packages/PyInstaller/building/build_main.py&quot;, line 629, in _check_python_library</span><br><span class="line">    raise IOError(msg)</span><br><span class="line">OSError: Python library not found: libpython3.6.so.1.0, libpython3.6mu.so.1.0, libpython3.6m.so.1.0</span><br><span class="line">This would mean your Python installation doesn&apos;t come with proper library files.</span><br><span class="line">This usually happens by missing development package, or unsuitable build parameters of Python installation.</span><br><span class="line"></span><br><span class="line">* On Debian/Ubuntu, you would need to install Python development packages</span><br><span class="line">  * apt-get install python3-dev</span><br><span class="line">  * apt-get install python-dev</span><br><span class="line">* If you&apos;re building Python by yourself, please rebuild your Python with `--enable-shared` (or, `--enable-framework` on Darwin)</span><br></pre></td></tr></table></figure>
<p>按照一贯做法，百度谷歌一波</p>
<h3 id="尝试解决方案一："><a href="#尝试解决方案一：" class="headerlink" title="尝试解决方案一："></a>尝试解决方案一：</h3><p> 搜来的原话是这样说的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">大概意思就是pyinstaller报错找不到python动态库，也提示说升级python-dev。因为我是centos，各种yum install python-devel和yum install python-dev都不行，什么升级/重装python、sudo、su甚至重装系统都不行！！！我又必须在centos6.2环境下编译，如果我在其他高版本的环境下打包后拿到centos6.2就会报错,言归正传！其实处理起来很简单。只需要复制python安装目录下的动态库到系统地动态库目录即可。</span><br><span class="line">cp -R /usr/local/python3.4/lib/* /usr/lib64/ 这样就搞定了！</span><br></pre></td></tr></table></figure>
<p>我的是python3.6，要不就试试呗。</p>
<p>看了一下，python安装位置，没毛病，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -R /usr/local/python3.6/lib/* /usr/lib64/</span><br></pre></td></tr></table></figure>
<p>再次生成可执行单文件，依然报错，问题一样，接着找解决办法</p>
<h3 id="尝试解决方案二："><a href="#尝试解决方案二：" class="headerlink" title="尝试解决方案二："></a>尝试解决方案二：</h3><p>仔细看报错的信息，有这么一段很醒目：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SError: Python library not found: libpython3.6.so.1.0, libpython3.6mu.so.1.0, libpython3.6m.so.1.0</span><br><span class="line">This would mean your Python installation doesn&apos;t come with proper library files.</span><br><span class="line">This usually happens by missing development package, or unsuitable build parameters of Python installation.</span><br><span class="line"></span><br><span class="line">* On Debian/Ubuntu, you would need to install Python development packages</span><br><span class="line">  * apt-get install python3-dev</span><br><span class="line">  * apt-get install python-dev</span><br></pre></td></tr></table></figure>
<p>是在说我缺少了某个东西，让我安装python3-dev云云的。深入了解一下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">linux发行版通常会把类库的头文件和相关的pkg-config分拆成一个单独的xxx-dev(el)包.    //pkg=package,包裹</span><br><span class="line"></span><br><span class="line">以python为例, 以下情况你是需要python-dev的</span><br><span class="line"></span><br><span class="line">你需要自己安装一个源外的python类库, 而这个类库内含需要编译的调用python api的c/c++文件  //如：安装使用WiringpisPi库需要python-dev</span><br><span class="line">你自己写的一个程序编译需要链接libpythonXX.(a|so)</span><br><span class="line">(注:以上不含使用ctypes/ffi或者裸dlsym方式直接调用libpython.so)</span><br><span class="line">其他正常使用python或者通过安装源内的python类库的不需要python-dev.</span><br></pre></td></tr></table></figure>
<p>后再来找一一个靠谱的回答</p>
<p>原话是这样说的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">You must install python-dev for your python&apos;s version</span><br><span class="line">for example:</span><br><span class="line">Debian/Ubuntu - Python 2.7 ---&gt; python2.7-dev</span><br><span class="line">CentOs/RedHat - Python 3.4 ---&gt; python34-devel</span><br><span class="line">CentOs/RedHat - Python 2.7 ---&gt; python27-devel</span><br></pre></td></tr></table></figure>
<p>各个python版本对应的python-dev版本，推测我的是python36-devel，动手试试</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[root@magicYou signal]# yum install python36-devel</span><br><span class="line">已加载插件：fastestmirror, langpacks</span><br><span class="line">Repository base is listed more than once in the configuration</span><br><span class="line">Repository updates is listed more than once in the configuration</span><br><span class="line">Repository extras is listed more than once in the configuration</span><br><span class="line">Repository centosplus is listed more than once in the configuration</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line">正在解决依赖关系</span><br><span class="line">--&gt; 正在检查事务</span><br><span class="line">---&gt; 软件包 python36-devel.x86_64.0.3.6.5-3.el7 将被 安装</span><br><span class="line">--&gt; 正在处理依赖关系 python36-libs(x86-64) = 3.6.5-3.el7，它被软件包 python36-devel-3.6.5-3.el7.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 python36 = 3.6.5-3.el7，它被软件包 python36-devel-3.6.5-3.el7.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 python(abi) = 3.6，它被软件包 python36-devel-3.6.5-3.el7.x86_64 需要</span><br><span class="line">......</span><br><span class="line">......</span><br><span class="line">  python36-devel.x86_64 0:3.6.5-3.el7</span><br><span class="line"></span><br><span class="line">作为依赖被安装:</span><br><span class="line">  dwz.x86_64 0:0.11-3.el7</span><br><span class="line">  perl-srpm-macros.noarch 0:1-8.el7</span><br><span class="line">  python-rpm-macros.noarch 0:3-22.el7</span><br><span class="line">  python-srpm-macros.noarch 0:3-22.el7</span><br><span class="line">  python36.x86_64 0:3.6.5-3.el7</span><br><span class="line">  python36-libs.x86_64 0:3.6.5-3.el7</span><br><span class="line">  redhat-rpm-config.noarch 0:9.1.0-80.el7.centos</span><br><span class="line"></span><br><span class="line">完毕！</span><br></pre></td></tr></table></figure>
<p>再次尝试pyinstaller生成可执行单文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">root@magicYou signal]# pyinstaller --onefile testCsv.py</span><br><span class="line">234 INFO: PyInstaller: 3.3.1</span><br><span class="line">234 INFO: Python: 3.6.1</span><br><span class="line">235 INFO: Platform: Linux-3.10.0-693.17.1.el7.x86_64-x86_64-with-centos-7.5.1804-Core</span><br><span class="line">236 INFO: wrote /python/signal/testCsv.spec</span><br><span class="line">239 INFO: UPX is not available.</span><br><span class="line">240 INFO: Extending PYTHONPATH with paths</span><br><span class="line">[&apos;/python/signal&apos;, &apos;/python/signal&apos;]</span><br><span class="line">240 INFO: checking Analysis</span><br><span class="line">240 INFO: Building Analysis because out00-Analysis.toc is non existent</span><br><span class="line">240 INFO: Initializing module dependency graph...</span><br><span class="line">241 INFO: Initializing module graph hooks...</span><br><span class="line">243 INFO: Analyzing base_library.zip ...</span><br><span class="line">3891 INFO: running Analysis out00-Analysis.toc</span><br><span class="line">3904 INFO: Caching module hooks...</span><br><span class="line">3908 INFO: Analyzing /python/signal/testCsv.py</span><br><span class="line">3933 INFO: Loading module hooks...</span><br><span class="line">3934 INFO: Loading module hook &quot;hook-encodings.py&quot;...</span><br><span class="line">4006 INFO: Loading module hook &quot;hook-pydoc.py&quot;...</span><br><span class="line">4007 INFO: Loading module hook &quot;hook-xml.py&quot;...</span><br><span class="line">4292 INFO: Looking for ctypes DLLs</span><br><span class="line">4292 INFO: Analyzing run-time hooks ...</span><br><span class="line">4299 INFO: Looking for dynamic libraries</span><br><span class="line">4864 INFO: Looking for eggs</span><br><span class="line">4864 INFO: Python library not in binary dependencies. Doing additional searching...</span><br><span class="line">4901 INFO: Using Python library /usr/lib64/libpython3.6m.so.1.0</span><br><span class="line">4905 INFO: Warnings written to /python/signal/build/testCsv/warntestCsv.txt</span><br><span class="line">4936 INFO: Graph cross-reference written to /python/signal/build/testCsv/xref-testCsv.html</span><br><span class="line">4949 INFO: checking PYZ</span><br><span class="line">4949 INFO: Building PYZ because out00-PYZ.toc is non existent</span><br><span class="line">4949 INFO: Building PYZ (ZlibArchive) /python/signal/build/testCsv/out00-PYZ.pyz</span><br><span class="line">5320 INFO: Building PYZ (ZlibArchive) /python/signal/build/testCsv/out00-PYZ.pyz completed successfully.</span><br><span class="line">5323 INFO: checking PKG</span><br><span class="line">5323 INFO: Building PKG because out00-PKG.toc is non existent</span><br><span class="line">5323 INFO: Building PKG (CArchive) out00-PKG.pkg</span><br><span class="line">10523 INFO: Building PKG (CArchive) out00-PKG.pkg completed successfully.</span><br><span class="line">10526 INFO: Bootloader /usr/local/python3/lib/python3.6/site-packages/PyInstaller/bootloader/Linux-64bit/run</span><br><span class="line">10526 INFO: checking EXE</span><br><span class="line">10526 INFO: Building EXE because out00-EXE.toc is non existent</span><br><span class="line">10526 INFO: Building EXE from out00-EXE.toc</span><br><span class="line">10526 INFO: Appending archive to ELF section in EXE /python/signal/dist/testCsv</span><br><span class="line">10555 INFO: Building EXE from out00-EXE.toc completed successfully.</span><br></pre></td></tr></table></figure>
<p>问题解决，很棒很棒！</p>
<h2 id="续集"><a href="#续集" class="headerlink" title="续集"></a>续集</h2><p>后来又在centos6.8，发现上述办法不能解决这个问题</p>
<p>Centos6.8上如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@magicYou /]# yum install python36-devel</span><br><span class="line">已加载插件：fastestmirror</span><br><span class="line">设置安装进程</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line">base                                                                                                                                                          | 3.7 kB     00:00</span><br><span class="line">extras                                                                                                                                                        | 3.4 kB     00:00</span><br><span class="line">updates                                                                                                                                                       | 3.4 kB     00:00</span><br><span class="line">No package python36-devel available.</span><br><span class="line">错误：无须任何处理</span><br></pre></td></tr></table></figure>
<p>后来又在centos7.2 上看了一下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_12_centos ~]# yum install python36-devel</span><br><span class="line">已加载插件：fastestmirror, langpacks</span><br><span class="line">epel                                                                                                                                                          | 3.2 kB  00:00:00</span><br><span class="line">extras                                                                                                                                                        | 3.4 kB  00:00:00</span><br><span class="line">os                                                                                                                                                            | 3.6 kB  00:00:00</span><br><span class="line">updates                                                                                                                                                       | 3.4 kB  00:00:00</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line">软件包 python36-devel-3.6.6-1.el7.x86_64 已安装并且是最新版本</span><br><span class="line">无须任何处理</span><br></pre></td></tr></table></figure>
<p>为啥不一样呢，依然解决不了问题。后来在一个角落找到一个靠谱的，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">I have solved this in the way below:</span><br><span class="line">1st. check your system if it has libpython3.4m.so.1.0. If yes, go to step 2nd. If no, download it(I&apos;m using anaconda python, so I have it in anaconda folder.)</span><br><span class="line">2nd. sudo cp /folder/to/your/libpython3.4m.so.1.0 /usr/lib</span><br><span class="line"></span><br><span class="line"># 翻译一下</span><br><span class="line"></span><br><span class="line">我用下面的方法解决了这个问题:</span><br><span class="line">1. 检查系统是否具有libpython3.4.so.1.0。如果有，请转到步骤2。如果没有，下载它(我使用的是anaconda python，所以我把它放在anaconda文件夹中)。</span><br><span class="line">2. sudo cp /folder/to/your/libpython3.4.so.1.0 /usr/lib</span><br></pre></td></tr></table></figure>
<p>比葫芦画瓢，find一下，还真找到了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -name libpython3.6mu.so.1.0</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /folder/to/your/libpython3.6mu.so.1.0 /usr/lib</span><br></pre></td></tr></table></figure>
<p>再次解决问题，十分坎坷</p>
<h2 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h2><ol>
<li>pyinstaller的问题在不同的系统上都不一样；</li>
<li>还有一个比较严重的问题就是在高版本的centos上生成的可执行单文件在低版本上可能无法运行，我自己的第一个虚拟机是centos7.2费了老劲搞好环境生成单文件放在生产环境centos6.8报错，查找问题是说一个系统的库版本太高导致；</li>
</ol>
</div><div class="tags"><a href="/tags/Python/">Python</a></div><div class="post-nav"><a class="pre" href="/2018/09/23/python多进程处理队列/">python3多进程处理队列</a><a class="next" href="/2018/07/06/centos防火墙设置/">centos防火墙设置</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://blog.magicyou.cn"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MacOS/">MacOS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/vue/" style="font-size: 15px;">vue</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/CSS3/" style="font-size: 15px;">CSS3</a> <a href="/tags/Vue/" style="font-size: 15px;">Vue</a> <a href="/tags/PHP/" style="font-size: 15px;">PHP</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/微信小程序/" style="font-size: 15px;">微信小程序</a> <a href="/tags/Centos/" style="font-size: 15px;">Centos</a> <a href="/tags/other/" style="font-size: 15px;">other</a> <a href="/tags/jQuery/" style="font-size: 15px;">jQuery</a> <a href="/tags/scrapy/" style="font-size: 15px;">scrapy</a> <a href="/tags/HTML5/" style="font-size: 15px;">HTML5</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/Apache/" style="font-size: 15px;">Apache</a> <a href="/tags/MacOS/" style="font-size: 15px;">MacOS</a> <a href="/tags/CSS/" style="font-size: 15px;">CSS</a> <a href="/tags/HTML/" style="font-size: 15px;">HTML</a> <a href="/tags/uni-app/" style="font-size: 15px;">uni-app</a> <a href="/tags/微信小程序/" style="font-size: 15px;">微信小程序'</a> <a href="/tags/canvas/" style="font-size: 15px;">canvas</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/09/03/环形温度调节实现/">环形温度调节实现</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/03/ vue-组件封装中之slot插槽使用/">vue---组件封装中之slot插槽使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/03/PHP获取微信小程序码/">微信小程序---PHP获取微信小程序码</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/03/微信小程序合成海报/">微信小程序---合成海报分享到朋友圈</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/24/单点登录配置 记录/">配置webgate拦截跳转到ldap登录页实现单点登录</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/23/一次环境升级记录/">一次lnmp环境升级记录</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/03/yum源的代理设置及修改/">yum源的代理设置及修改</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/23/脚本微博登录自动发微博并返回cookie/">脚本微博登录自动发微博并返回cookie</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/10/scrapy爬虫之初次尝试/">scrapy爬虫之初次尝试</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/26/安装python的crypto模块/">安装python的crypto模块</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://hexo.io" title="Hexo" target="_blank">Hexo</a><ul></ul><a href="http://moxfive.xyz/" title="MOxFIVE" target="_blank">MOxFIVE</a><ul></ul><a href="https://coolshell.cn/" title="左耳朵耗子的酷壳" target="_blank">左耳朵耗子的酷壳</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">MagicYou.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.3.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.3.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.3.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.3.0"></script></div></body></html>